<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EconomicCompass | Daily Crypto Insight</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#3b82f6">
    <meta name="description" content="AI-powered daily crypto market insights with macroeconomic analysis">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="EconomicCompass">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/EconomicCompass/static/manifest.json">
    
    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="/EconomicCompass/static/icons/favicon.ico">
    <link rel="apple-touch-icon" href="/EconomicCompass/static/icons/icon-192x192.png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/EconomicCompass/static/style.css">
    <link rel="stylesheet" href="/EconomicCompass/static/interactive.css">
</head>

<body>
    <div class="background-glow"></div>

    <div class="container">
        <header>
            <div class="logo">EconomicCompass <button id="lang-toggle" class="lang-button">Ø¹Ø±Ø¨ÙŠ</button></div>
            <div class="header-controls">
                <div class="date" id="date-display">Thursday, December 04, 2025 at 08:36 AM</div>
            </div>
        </header>

        <main>
            <div id="dashboard" class="dashboard-grid">

                <!-- Left Column: Indicators -->
                <div class="sidebar">
                    <!-- Fear & Greed -->
                    <div class="glass-panel indicator-card">
                        <h3 id="fng-title">Fear & Greed</h3>
                        <div class="gauge-container">
                            
                             <div class="gauge-value" style="color: #ef4444">26</div>
                        <div class="gauge-label" id="fng-classification">Fear</div>
                    </div>
                </div>

                <!-- BTC Trend -->
                <div class="glass-panel indicator-card">
                    <h3 id="btc-title">BTC Trend</h3>
                    
                    
                    <div class="trend-row">
                        <span id="price-label">Price</span>
                        <span class="value">$93,122</span>
                    </div>
                    <div class="trend-row">
                        <span id="rsi-label">RSI (14)</span>
                        <span class="value">40.1</span>
                    </div>
                    <div class="trend-row">
                        <span id="trend-label">Trend</span>
                        <span class="value text-red" id="trend-value">Bearish</span>
                    </div>
                    
                </div>

                <!-- Macro Pulse -->
                <div class="glass-panel indicator-card">
                    <h3 id="macro-title">Macro Pulse</h3>
                    

                    <!-- Yield -->
                    <div class="trend-row">
                        <span id="yield-label">10Y Yield</span>
                        
                        
                        
                        <span class="value">
                            4.06%
                            <span class="text-green" style="font-size: 0.8em;">â–² 1.4%</span>
                        </span>
                    </div>

                    <!-- Gold -->
                    <div class="trend-row">
                        <span id="gold-label">Gold</span>
                        
                        
                        
                        <span class="value">
                            $4,222
                            <span class="text-green" style="font-size: 0.8em;">â–² 4.0%</span>
                        </span>
                    </div>

                    <!-- S&P 500 -->
                    <div class="trend-row">
                        <span id="sp500-label">S&P 500</span>
                        
                        
                        
                        <span class="value">
                            6,850
                            <span class="text-green" style="font-size: 0.8em;">â–² 1.2%</span>
                        </span>
                    </div>

                    <!-- TASI -->
                    <div class="trend-row">
                        <span id="tasi-label">TASI</span>
                        
                        
                        
                        <span class="value">
                            10,638
                            <span class="text-red" style="font-size: 0.8em;">â–¼ 0.0%</span>
                        </span>
                    </div>
                </div>
            </div>

            <!-- Right Column: AI Insight -->
            <div class="content-area">
                <div class="glass-panel insight-panel">
                    <div class="insight-header">
                        <h2 id="insight-title">Daily Market Intelligence</h2>
                        <div id="updated-label" style="font-size: 0.8rem; color: #a0a0b0;">Updated: <span id="timestamp">2025-12-04T08:36:31.257057</span></div>
                    </div>
                    <div class="markdown-body" id="insight-content">
                        

<h2>ðŸ¦… Macro View</h2>
<p>Macro signals are mixed with risk-off dominance. Treasury 10y yields rose 1.37%, reflecting growth optimism, yet the weaker dollar (DXY down 0.79%), surging gold (+3.97%), and declining oil (-2.57%) indicate risk-averse positioning. While equities (S&P 500 up 1.24%) and crypto sentiment (Fear index) suggest risk-on elements, commodity/safe-haven assets and the Fear index confirm underlying risk-off pressure. The Fedâ€™s policy stance and oil demand remain key deciders for risk sentiment.</p>

<h2>BTC Market Structure</h2>
<p>BTC exhibits bearish technical structure: price ($93,121) is below both 50W ($102,342) and 200W ($56,085) MAs, reinforcing the weekly bearish trend. Bull market bands (SMA20: $109,390; EMA21: $104,418) sit above, offering limited upside. Despite an RSI of 40 (neutral), the bearish weekly trend, stretched MA divergence, and proximity to key support zones require caution. The 200W MA remains a critical buffer.</p>

<h2>ðŸ‡¸ðŸ‡¦ TASI & Global Markets</h2>
<p>The Saudi TASI index traded nearly flat (-0.02%) this week, lagging broader gains (S&P 500 up 1.24%). Diversification into global risk assets remains muted, reflecting cautious investor positioning amid mixed macro signals and the measures to curb prediction markets in Connecticut â€“ a regulatory headwind for digital assets.</p>

<h2>ðŸŽ¯ Actionable Verdict</h2>
<p><strong>DE-RISK</strong></p>
<p>Bullish catalysts (deflationary crypto ETFs, regulatory clarity) remain speculative versus entrenched bearish structure. The risk-off macro, BTCâ€™s position below key MAs, and overhyped "fear" sentiment create unfavorable terrain for accumulation. Critically monitor Bitcoinâ€™s relationship to the 200W MA ($56,085) and bull band retrenchments as potential de-risking signals. Preserving capital ahead of macro volatility remains prudent.</p>

<h2>ðŸ“… Weekly Watchlist</h2>
<ul style="list-style: none; padding: 0;">
  <li>1. US NFP & Bond Yields data (Dec 6-9) â€“ watch for USD strength and inflation reassessment for risk-on/risk-off shifts #NFP #USDCurrency #BondYields</li>
  <li>2. FOMC June Rate Decision (Dec 10) â€“ central banks remain pivotal amid gold/oil turbulence and real yield moves #FOMC #InterestRates #FedPolicy</li>
  <li>3. UK CPI Inflation (Dec 9) â€“ sterling fragility may amplify dollar-safety chains and commodity flows #UKCPI #BOE #Sterling</li>
  <li>4. SEC DeFi Tokenized Stocks Scrutiny (#SEC #DeFi #Regulation) â€“ contingent on SEC staff papers and Citadel proposal's pathway â€“ volatility in ETH/risk assets expected</li>
  <li>5. Bitcoin ETF Flows and FUD (Dec 11) â€“ monitor $8.3B in wtd #Bitcoin #ETH #CryptoRegulation for accumulation signals vs. whale siphoning</li>
</ul>
                    </div>
                </div>
            </div>
    </div>
    </main>
    </div>
    <!-- Interactive Features -->
    <script src="/EconomicCompass/static/app.js"></script>


    <!-- Language Switching Script -->
    <script>
        // Language translations
        const translations = {
            en: {
                fngTitle: "Fear & Greed",
                btcTitle: "BTC Trend",
                macroTitle: "Macro Pulse",
                priceLabel: "Price",
                rsiLabel: "RSI (14)",
                trendLabel: "Trend",
                unavailableLabel: "Data Unavailable",
                yieldLabel: "10Y Yield",
                goldLabel: "Gold",
                sp500Label: "S&P 500",
                tasiLabel: "TASI",
                insightTitle: "Daily Market Intelligence",
                updatedLabel: "Updated:",
                bullish: "Bullish",
                bearish: "Bearish"
            },
            ar: {
                fngTitle: "Ø§Ù„Ø®ÙˆÙ ÙˆØ§Ù„Ø·Ù…Ø¹",
                btcTitle: "Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø¨ÙŠØªÙƒÙˆÙŠÙ†",
                macroTitle: "Ù†Ø¨Ø¶ Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ Ø§Ù„ÙƒÙ„ÙŠ",
                priceLabel: "Ø§Ù„Ø³Ø¹Ø±",
                rsiLabel: "Ù…Ø¤Ø´Ø± RSI (14)",
                trendLabel: "Ø§Ù„Ø§ØªØ¬Ø§Ù‡",
                unavailableLabel: "Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± Ù…ØªÙˆÙØ±Ø©",
                yieldLabel: "Ø¹Ø§Ø¦Ø¯ 10 Ø³Ù†ÙˆØ§Øª",
                goldLabel: "Ø§Ù„Ø°Ù‡Ø¨",
                sp500Label: "S&P 500",
                tasiLabel: "ØªØ§Ø³ÙŠ",
                insightTitle: "Ø°ÙƒØ§Ø¡ Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„ÙŠÙˆÙ…ÙŠ",
                updatedLabel: "ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ«:",
                bullish: "Bullish",
                bearish: "Bearish"
            }
        };

        // DOM elements
        const langToggle = document.getElementById('lang-toggle');
        const dateDisplay = document.getElementById('date-display');
        const timestamp = document.getElementById('timestamp');
        const updatedLabel = document.getElementById('updated-label');

        // Elements to translate
        const translatableElements = {
            'fng-title': 'fngTitle',
            'btc-title': 'btcTitle',
            'macro-title': 'macroTitle',
            'price-label': 'priceLabel',
            'rsi-label': 'rsiLabel',
            'trend-label': 'trendLabel',
            'unavailable-label': 'unavailableLabel',
            'yield-label': 'yieldLabel',
            'gold-label': 'goldLabel',
            'sp500-label': 'sp500Label',
            'tasi-label': 'tasiLabel',
            'insight-title': 'insightTitle',
            'updated-label': 'updatedLabel'
        };

        // Format date in a human-readable way
        function formatHumanDate(dateString) {
            const date = new Date(dateString);
            const lang = localStorage.getItem('language') || 'en';
            
            if (lang === 'ar') {
                return date.toLocaleDateString('ar-EG', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
            } else {
                return date.toLocaleDateString('en-US', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
            }
        }

        // Update timestamp display
        function updateTimestamp() {
            const timestampText = timestamp.textContent;
            if (timestampText) {
                timestamp.textContent = formatHumanDate(timestampText);
            }
        }

        // Update date display
        function updateDateDisplay() {
            const dateText = dateDisplay.textContent;
            if (dateText) {
                const lang = localStorage.getItem('language') || 'en';
                
                if (lang === 'ar') {
                    // Format in Arabic
                    const date = new Date();
                    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                    dateDisplay.textContent = date.toLocaleDateString('ar-EG', options);
                } else {
                    // Keep English format
                    const parts = dateText.split(', ');
                    if (parts.length === 3) {
                        const dayName = parts[0];
                        const monthDayYear = parts[1] + ', ' + parts[2];
                        dateDisplay.textContent = `${dayName}, ${monthDayYear}`;
                    }
                }
            }
        }

        // Translate page content
        function translatePage(lang) {
            // Update button text
            langToggle.textContent = lang === 'en' ? 'Ø¹Ø±Ø¨ÙŠ' : 'English';
            
            // Update all translatable elements
            for (const [elementId, translationKey] of Object.entries(translatableElements)) {
                const element = document.getElementById(elementId);
                if (element) {
                    element.textContent = translations[lang][translationKey];
                }
            }
            
            // Special handling for trend value (always show in English)
            const trendValueElement = document.getElementById('trend-value');
            if (trendValueElement) {
                const currentText = trendValueElement.textContent.trim();
                if (currentText === 'Bullish' || currentText === 'Bearish') {
                    // Keep as is (already in English)
                } else if (currentText === translations.ar.bullish) {
                    trendValueElement.textContent = 'Bullish';
                } else if (currentText === translations.ar.bearish) {
                    trendValueElement.textContent = 'Bearish';
                }
            }
            
            // Update the updated label text
            const updatedLabelText = document.getElementById('updated-label');
            if (updatedLabelText) {
                const colonIndex = updatedLabelText.innerHTML.indexOf(':');
                if (colonIndex !== -1) {
                    const timestampPart = updatedLabelText.innerHTML.substring(colonIndex + 1).trim();
                    updatedLabelText.innerHTML = translations[lang].updatedLabel + ' ' + timestampPart;
                } else {
                    updatedLabelText.textContent = translations[lang].updatedLabel;
                }
            }
        }

        // Toggle language
        function toggleLanguage() {
            const currentLang = localStorage.getItem('language') || 'en';
            const newLang = currentLang === 'en' ? 'ar' : 'en';
            
            // Save preference
            localStorage.setItem('language', newLang);
            
            // Apply translation
            translatePage(newLang);
            
            // Apply RTL for Arabic
            document.documentElement.lang = newLang;
            document.body.dir = newLang === 'ar' ? 'rtl' : 'ltr';
            
            // Update styles for RTL
            if (newLang === 'ar') {
                document.body.classList.add('rtl');
            } else {
                document.body.classList.remove('rtl');
            }
            
            // Reformat dates with new language
            updateTimestamp();
            updateDateDisplay();
        }

        // Initialize language settings
        function initLanguage() {
            // Check for saved preference or default to English
            const savedLang = localStorage.getItem('language') || 'en';
            
            // Apply translation
            translatePage(savedLang);
            
            // Apply RTL for Arabic
            document.documentElement.lang = savedLang;
            document.body.dir = savedLang === 'ar' ? 'rtl' : 'ltr';
            
            // Update styles for RTL
            if (savedLang === 'ar') {
                document.body.classList.add('rtl');
            }
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            updateTimestamp();
            updateDateDisplay();
            initLanguage();
            
            // Set up event listener
            if (langToggle) {
                langToggle.addEventListener('click', toggleLanguage);
            }
        });

        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/EconomicCompass/static/sw.js')
                    .then(registration => {
                        console.log('SW registered: ', registration);
                    })
                    .catch(registrationError => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
    </script>
</body>

</html>